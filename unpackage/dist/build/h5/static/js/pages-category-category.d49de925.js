(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-category"],{"1a76":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCategory=a,e.getSubcategory=i,e.getCategoryDetail=o;var r=n("54e1");function a(){return(0,r.request)({url:"/category"})}function i(t){return(0,r.request)({url:"/subcategory",data:{maitKey:t}})}function o(t,e){return(0,r.request)({url:"/subcategory/detail",data:{miniWallkey:t,type:e}})}},2275:function(t,e,n){var r=n("ac07");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("2a3d9c3c",r,!0,{sourceMap:!1,shadowMode:!1})},2890:function(t,e,n){var r=n("8d14");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("42a6f3ed",r,!0,{sourceMap:!1,shadowMode:!1})},5497:function(t,e,n){"use strict";var r=n("e56c"),a=n.n(r);a.a},"64f1":function(t,e,n){"use strict";n.r(e);var r=n("6759"),a=n("6738");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("5497");var o,c=n("f0c5"),u=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,"a1cffa7e",null,!1,r["a"],o);e["default"]=u.exports},6738:function(t,e,n){"use strict";n.r(e);var r=n("ef54"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},6759:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"tab-control"},t._l(t.list,(function(e,r){return n("v-uni-view",{staticClass:"tab-control-item",class:{"tab-control-active":t.currentIndex===r},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTabItem(r)}}},[n("v-uni-text",[t._v(t._s(e))])],1)})),1)},i=[]},"750e":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content",attrs:{id:"category"}},[n("v-uni-view",{staticClass:"category-left"},[n("v-uni-scroll-view",{attrs:{"scroll-y":!0}},[n("category-menu",{attrs:{category:t.category},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTheme.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"category-right"},[n("v-uni-scroll-view",{attrs:{"scroll-y":!0,"scroll-with-animation":"true","scroll-top":t.scrollTop,"lower-threshold":0},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollReachBottom.apply(void 0,arguments)}}},[n("category-sub-menu",{attrs:{"sub-category":t.subCategory},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.clickSubTheme.apply(void 0,arguments)}}}),n("tab-control",{ref:"tabControl",attrs:{list:["流行","新款","精选"]},on:{clickTabItem:function(e){arguments[0]=e=t.$handleEvent(e),t.clickTabItem.apply(void 0,arguments)}}}),n("goods-list",{ref:"goods",attrs:{goods:t.showGoods,id:"category-goods-list"}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],on:{backTop:function(e){arguments[0]=e=t.$handleEvent(e),t.backTop.apply(void 0,arguments)}}})],1)],1)},i=[]},"8a70":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"CategoryMenu",props:{category:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{clickItem:function(t){this.currentIndex=t,this.$emit("clickItem",this.category[this.currentIndex])}}};e.default=r},"8d14":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.category-sub-menu[data-v-7b05f9ca]{display:flex;flex-wrap:wrap}.category-sub-menu .sub-menu-item[data-v-7b05f9ca]{box-sizing:border-box;width:33%;margin:%?16?% 0;display:flex;flex-direction:column;text-align:center}.category-sub-menu .sub-menu-item uni-image[data-v-7b05f9ca]{width:%?140?%;height:%?140?%;margin:auto}.category-sub-menu .sub-menu-item uni-text[data-v-7b05f9ca]{margin-top:%?10?%}.category-sub-menu .sub-menu-item[data-v-7b05f9ca]:nth-child(3n+1),\r\n.category-sub-menu .sub-menu-item[data-v-7b05f9ca]:nth-child(3n+2){margin-right:.5%}.category-sub-menu .select-item[data-v-7b05f9ca]{border:%?1?% solid #ccc;border-radius:%?10?%;box-shadow:0 0 %?1?% #000}',""]),t.exports=e},9207:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"CategorySubMenu",props:{subCategory:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{clickItem:function(t){this.currentIndex=t,this.$emit("clickItem",this.subCategory[this.currentIndex])}}};e.default=r},"9bcf":function(t,e,n){"use strict";var r=n("2890"),a=n.n(r);a.a},"9cf6":function(t,e,n){"use strict";n.r(e);var r=n("750e"),a=n("d5e9");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("c547");var o,c=n("f0c5"),u=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,"74a1c5eb",null,!1,r["a"],o);e["default"]=u.exports},a213:function(t,e,n){"use strict";var r=n("4ea4");n("7db0"),n("4160"),n("b64b"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("64f1")),i=r(n("441e")),o=r(n("ff32")),c=r(n("a838")),u=r(n("6b3d")),s=n("4b27"),l=n("1a76"),f={mixins:[s.backTopOperationMixin],components:{TabControl:a.default,GoodsList:i.default,CategoryMenu:o.default,CategorySubMenu:c.default,BackTop:u.default},data:function(){return{category:[],subCategory:[],miniWallkey:null,currentType:"pop",goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}}}},onLoad:function(){this.getCategory()},computed:{showGoods:function(){return this.goods[this.currentType].list},getGoodsTabY:function(){return this.goods[this.currentType].scrollY}},methods:{clickTheme:function(t){this.getSubAndList(t)},clickSubTheme:function(t){uni.showToast({icon:"error",title:"不支持该操作"})},clickTabItem:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell";break}},getSubAndList:function(t){this.backTop(),this.currentType="pop",this.$refs.tabControl.currentIndex=0,this.miniWallkey=t.miniWallkey,this.maitKey=t.maitKey,this.getSubcategory(t.maitKey),this.getCategoryDetail(t.miniWallkey,"pop"),this.getCategoryDetail(t.miniWallkey,"new"),this.getCategoryDetail(t.miniWallkey,"sell")},scrollReachBottom:function(){uni.showToast({icon:"none",title:"没有更多数据了"})},getCategory:function(){var t=this;(0,l.getCategory)().then((function(e){t.category=e.data.category.list,t.miniWallkey=t.category[0].miniWallkey,t.maitKey=t.category[0].maitKey,t.getSubcategory(t.maitKey),t.getCategoryDetail(t.miniWallkey,"pop"),t.getCategoryDetail(t.miniWallkey,"new"),t.getCategoryDetail(t.miniWallkey,"sell")})).catch((function(t){console.log("请求商品分类页一级列表出错了-",t)}))},getSubcategory:function(t){var e=this;(0,l.getSubcategory)(t).then((function(t){e.subCategory=t.data.list})).catch((function(t){console.log("请求商品分类页二级列表出错了-",t)}))},getCategoryDetail:function(t,e){var n=this;(0,l.getCategoryDetail)(t,e).then((function(t){var r=Object.keys(n.goods).find((function(t){return t===e}));n.goods[r].page=0,n.goods[r].list=[],t.forEach((function(t){n.goods[r].list.push(t)})),++n.goods[r].page})).catch((function(t){console.log("请求商品分类页商品列表出错了-",t)}))}}};e.default=f},a838:function(t,e,n){"use strict";n.r(e);var r=n("aa61"),a=n("f09a");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("9bcf");var o,c=n("f0c5"),u=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,"7b05f9ca",null,!1,r["a"],o);e["default"]=u.exports},aa61:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"category-sub-menu"},t._l(t.subCategory,(function(e,r){return n("v-uni-view",{key:e.link,staticClass:"sub-menu-item",class:{"select-item":t.currentIndex===r},attrs:{"data-href":e.link},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickItem(r)}}},[n("v-uni-image",{attrs:{src:e.image,alt:"title"}}),n("v-uni-text",[t._v(t._s(e.title))])],1)})),1)},i=[]},ac07:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.content[data-v-74a1c5eb]{height:100vh;height:calc(100vh - 44px - 50px);overflow:hidden;display:flex}.content uni-scroll-view[data-v-74a1c5eb]{height:100%;overflow:hidden}.content .category-left[data-v-74a1c5eb]{overflow:hidden;width:%?200?%;flex:none;background-color:#f6f6f6}.content .category-right[data-v-74a1c5eb]{overflow:hidden;flex:1}',""]),t.exports=e},ace4e:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.tab-control[data-v-a1cffa7e]{display:flex;text-align:center;height:%?80?%;line-height:%?80?%}.tab-control-item[data-v-a1cffa7e]{flex:1}.tab-control-active uni-text[data-v-a1cffa7e]{padding:%?10?%;border-bottom:%?6?% solid #ff8198}',""]),t.exports=e},b7b4:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.category-menu-item[data-v-f5491ae8]{height:%?80?%;line-height:%?80?%;text-align:center}.select-item[data-v-f5491ae8]{font-weight:700;color:#ff8198;border-left:%?8?% solid #ff8198}',""]),t.exports=e},b81c:function(t,e,n){var r=n("b7b4");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("1e26debd",r,!0,{sourceMap:!1,shadowMode:!1})},c1f1:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"category-menu"},t._l(t.category,(function(e,r){return n("v-uni-view",{key:e.maitKey,staticClass:"category-menu-item",class:{"select-item":t.currentIndex===r},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickItem(r)}}},[n("v-uni-text",[t._v(t._s(e.title))])],1)})),1)},i=[]},c547:function(t,e,n){"use strict";var r=n("2275"),a=n.n(r);a.a},d276:function(t,e,n){"use strict";n.r(e);var r=n("8a70"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},d5e9:function(t,e,n){"use strict";n.r(e);var r=n("a213"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},e56c:function(t,e,n){var r=n("ace4e");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("ec941afe",r,!0,{sourceMap:!1,shadowMode:!1})},ef54:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"TabControl",data:function(){return{currentIndex:0}},props:{list:{type:Array,default:function(){return[]}}},methods:{clickTabItem:function(t){this.currentIndex=t,this.$emit("clickTabItem",t)}}};e.default=r},f09a:function(t,e,n){"use strict";n.r(e);var r=n("9207"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},f974:function(t,e,n){"use strict";var r=n("b81c"),a=n.n(r);a.a},ff32:function(t,e,n){"use strict";n.r(e);var r=n("c1f1"),a=n("d276");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("f974");var o,c=n("f0c5"),u=Object(c["a"])(a["default"],r["b"],r["c"],!1,null,"f5491ae8",null,!1,r["a"],o);e["default"]=u.exports}}]);