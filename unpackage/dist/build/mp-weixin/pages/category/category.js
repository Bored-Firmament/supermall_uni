(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/category"],{"0917":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("4b27"),i=n("1a76"),a=function(){n.e("components/content/tabControl/TabControl").then(function(){return resolve(n("64f1"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/content/goods/GoodsList").then(function(){return resolve(n("441e"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("pages/category/categoryCpns/CategoryMenu").then(function(){return resolve(n("ff32"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("pages/category/categoryCpns/CategorySubMenu").then(function(){return resolve(n("a838"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/content/backTop/BackTop").then(function(){return resolve(n("6b3d"))}.bind(null,n)).catch(n.oe)},s={mixins:[o.backTopOperationMixin],components:{TabControl:a,GoodsList:c,CategoryMenu:r,CategorySubMenu:u,BackTop:l},data:function(){return{category:[],subCategory:[],miniWallkey:null,currentType:"pop",goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}}}},onLoad:function(){this.getCategory()},computed:{showGoods:function(){return this.goods[this.currentType].list},getGoodsTabY:function(){return this.goods[this.currentType].scrollY}},methods:{clickTheme:function(t){this.getSubAndList(t)},clickSubTheme:function(e){t.showToast({icon:"error",title:"不支持该操作"})},clickTabItem:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell";break}},getSubAndList:function(t){this.backTop(),this.currentType="pop",this.$refs.tabControl.currentIndex=0,this.miniWallkey=t.miniWallkey,this.maitKey=t.maitKey,this.getSubcategory(t.maitKey),this.getCategoryDetail(t.miniWallkey,"pop"),this.getCategoryDetail(t.miniWallkey,"new"),this.getCategoryDetail(t.miniWallkey,"sell")},scrollReachBottom:function(){t.showToast({icon:"none",title:"没有更多数据了"})},getCategory:function(){var t=this;(0,i.getCategory)().then((function(e){t.category=e.data.category.list,t.miniWallkey=t.category[0].miniWallkey,t.maitKey=t.category[0].maitKey,t.getSubcategory(t.maitKey),t.getCategoryDetail(t.miniWallkey,"pop"),t.getCategoryDetail(t.miniWallkey,"new"),t.getCategoryDetail(t.miniWallkey,"sell")})).catch((function(t){console.log("请求商品分类页一级列表出错了-",t)}))},getSubcategory:function(t){var e=this;(0,i.getSubcategory)(t).then((function(t){e.subCategory=t.data.list})).catch((function(t){console.log("请求商品分类页二级列表出错了-",t)}))},getCategoryDetail:function(t,e){var n=this;(0,i.getCategoryDetail)(t,e).then((function(t){var o=Object.keys(n.goods).find((function(t){return t===e}));n.goods[o].page=0,n.goods[o].list=[],t.forEach((function(t){n.goods[o].list.push(t)})),++n.goods[o].page})).catch((function(t){console.log("请求商品分类页商品列表出错了-",t)}))}}};e.default=s}).call(this,n("543d")["default"])},"167b":function(t,e,n){"use strict";(function(t){n("4fad");o(n("66fd"));var e=o(n("9cf6"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"958b":function(t,e,n){},"9cf6":function(t,e,n){"use strict";n.r(e);var o=n("f181"),i=n("d5e9");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("b0e6");var c,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);e["default"]=u.exports},b0e6:function(t,e,n){"use strict";var o=n("958b"),i=n.n(o);i.a},d5e9:function(t,e,n){"use strict";n.r(e);var o=n("0917"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},f181:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c},a=[]}},[["167b","common/runtime","common/vendor"]]]);